# Outputs Directory

> **Central repository for all generated outputs from the Ternary VAE project**

**Last Updated:** December 29, 2025

---

## Overview

This directory contains all outputs generated by the Ternary VAE bioinformatics project, including:
- Research discoveries and findings
- Clinical decision support data
- Model training artifacts and metrics
- Partner collaboration results
- Validation data (AlphaFold3 predictions)
- Ablation study results

---

## Directory Structure

```
outputs/
├── README.md                     # This file
├── DOCUMENTATION.md              # Comprehensive documentation guide
│
├── comprehensive_results.json    # Main ablation study (31 experiments)
├── combination_results.json      # Combination experiments
├── extended_results.json         # Extended experiments
├── phase2_results.json           # Phase 2 training results
├── phase3_results.json           # Phase 3 training results
│
├── models/                       # Model checkpoints (stored on HF Hub)
│   └── README.md                 # Checkpoint documentation
│
├── reports/                      # Project reports
│   ├── COMPREHENSIVE_PROJECT_REPORT.md    # Full technical report
│   ├── DETAILED_PROJECT_PRESENTATION.md   # Presentation format
│   └── integrity_audit_*.md               # Code audits
│
├── results/                      # All result outputs
│   ├── README.md                 # Results overview
│   ├── ablation/                 # Ablation study results
│   ├── clinical/                 # Clinical decision support
│   ├── literature/               # Literature implementations
│   ├── partners/                 # Partner project validations
│   ├── research/                 # Research discoveries
│   ├── training/                 # Training logs and metrics
│   └── validation/               # AlphaFold3 validations
│
├── logs/                         # Training logs
├── epsilon_vae_hybrid/           # Hybrid VAE experiments
└── optimal/                      # Optimal configuration search
```

---

## Quick Access Guide

### Key Findings

| Document | Description | Path |
|----------|-------------|------|
| **HIV Discoveries** | P-adic drug resistance analysis | `results/research/discoveries/hiv/DISCOVERY_HIV_PADIC_RESISTANCE.md` |
| **Research Findings** | Core research insights | `results/research/research_discoveries/RESEARCH_FINDINGS.md` |
| **Clinical Report** | Vaccine candidates & MDR alerts | `results/clinical/clinical_applications/CLINICAL_REPORT.md` |
| **AlphaFold3 Validation** | Structural validation results | `results/validation/alphafold_predictions/VALIDATION_RESULTS.md` |
| **Partner Summary** | Collaboration validations | `results/partners/VALIDATION_SUMMARY.md` |

### Key Metrics

| Metric | Value | Source |
|--------|-------|--------|
| Hierarchy correlation ceiling | -0.8321 | Mathematical limit |
| Best checkpoint hierarchy | -0.8321 | homeostatic_rich |
| AlphaFold3 Goldilocks correlation | r = -0.89 | Validation results |
| Drug resistance (NRTI) distance | d = 6.05 | HIV discovery |
| HLA-B*27 escape distance | d = 7.38 | Elite controller analysis |

---

## Result Categories

### 1. Research Discoveries (`results/research/`)

Scientific findings from p-adic analysis:
- **HIV Drug Resistance**: Geometric signatures of resistance mutations
- **Elite Controllers**: HLA allele escape distances
- **Sentinel Glycans**: 7 critical sites identified (N58, N429, N103, etc.)
- **Evolutionary Relationships**: Spearman r = 0.8339 validation

### 2. Clinical Applications (`results/clinical/`)

Clinical decision support outputs:
- **Vaccine Candidates**: Top peptide targets with priority scores
- **MDR Screening**: Multi-drug resistance alerts (34.8% flagged)
- **Host-Directed Therapy**: 247 druggable Tat targets
- **Dashboard Data**: JSON for clinical interfaces

### 3. Partner Validations (`results/partners/`)

Collaboration project results:
- **Brizuela**: Antimicrobial peptide optimization
- **Colbes**: Rotamer stability prediction (87% accuracy)
- **Rojas**: Dengue outbreak forecasting (82% accuracy)

### 4. Structural Validation (`results/validation/`)

AlphaFold3 structural predictions:
- BG505 gp120 variants with deglycosylation
- ipTM scores and disorder analysis
- Goldilocks Zone validation

### 5. Training Results (`results/training/`)

Model development artifacts:
- Training logs and metrics
- Run history (TensorBoard format)
- Checkpoint metadata

---

## JSON Data Files

### Main Experiment Results

```python
import json

# Load ablation study results (31 experiments)
with open("outputs/comprehensive_results.json") as f:
    results = json.load(f)

# Access best configurations
for exp in results["experiments"]:
    print(f"{exp['name']}: accuracy={exp['accuracy']}, hierarchy={exp['hierarchy']}")
```

### Clinical Decision Support

```python
# Load clinical JSON
with open("outputs/results/clinical/clinical_applications/clinical_decision_support.json") as f:
    clinical = json.load(f)

# Access vaccine candidates
for candidate in clinical["vaccine_candidates"]:
    print(f"{candidate['peptide']}: priority={candidate['priority']}")
```

---

## Model Checkpoints

**Important:** Model checkpoint files (`.pt`) are NOT stored in git. They are available on Hugging Face Hub.

### Download Checkpoints

```bash
# Using checkpoint_hub utility
python -m src.utils.checkpoint_hub download --checkpoint homeostatic_rich/best.pt

# Or using huggingface_hub directly
pip install huggingface_hub
huggingface-cli download ivanpol/ternary-vae-checkpoints
```

### Available Checkpoints

| Checkpoint | Coverage | Hierarchy | Richness | Recommended |
|------------|----------|-----------|----------|-------------|
| `homeostatic_rich/best.pt` | 100% | -0.8321 | 0.00787 | **Best balance** |
| `v5_11_homeostasis/best.pt` | 99.9% | -0.82 | 0.00136 | Good hierarchy |
| `v5_11_structural/best.pt` | 100% | -0.40 | 0.00304 | Stable embeddings |

See `models/README.md` for full checkpoint documentation.

---

## Git LFS Tracked Files

Large files are tracked with Git LFS:

```gitattributes
*.parquet filter=lfs diff=lfs merge=lfs -text
*.npy filter=lfs diff=lfs merge=lfs -text
*.a3m filter=lfs diff=lfs merge=lfs -text
outputs/results/validation/alphafold_predictions/**/*.json filter=lfs
```

To pull LFS files:
```bash
git lfs pull
```

---

## Usage Examples

### Loading Research Results

```python
from pathlib import Path
import json

OUTPUTS = Path("outputs")

# Load HIV discovery data
with open(OUTPUTS / "results/research/discoveries/hiv/drug_resistance.json") as f:
    resistance_data = json.load(f)

# Load clinical support
with open(OUTPUTS / "results/clinical/clinical_applications/clinical_decision_support.json") as f:
    clinical_data = json.load(f)
```

### Accessing Training Metrics

```python
import tensorboard as tb
from tensorboard.backend.event_processing import event_accumulator

# Load TensorBoard logs
ea = event_accumulator.EventAccumulator("outputs/results/training/run_history/archive/...")
ea.Reload()

# Get scalar data
scalars = ea.Scalars("Hyperbolic_Correlation_Hyp_VAE_B")
```

---

## Related Documentation

| Document | Description |
|----------|-------------|
| `DOCUMENTATION.md` | Comprehensive documentation guide |
| `.claude/CLAUDE.md` | Claude context and checkpoint reference |
| `docs/` | Project documentation |
| `research/` | Research scripts and data |

---

## File Size Summary

| Category | Size | Notes |
|----------|------|-------|
| AlphaFold predictions | ~500 MB | LFS tracked |
| Training metrics | ~200 MB | LFS tracked (.npy) |
| JSON results | ~1 MB | Regular git |
| Markdown reports | ~100 KB | Regular git |
| **Model checkpoints** | ~634 MB | **HF Hub only** |

---

## Maintenance

### Cleanup Commands

```bash
# Remove Python cache
find outputs -name "__pycache__" -type d -exec rm -rf {} +

# List large files
find outputs -type f -size +10M -exec ls -lh {} \;

# Check LFS status
git lfs ls-files
```

### Adding New Outputs

When adding new output types:
1. Update this README with the new category
2. Create a subdirectory README if complex
3. Add to `.gitattributes` if large binary files
4. Update `.gitignore` if should be excluded
